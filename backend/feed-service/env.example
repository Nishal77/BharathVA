# BharathVA Feed Service Environment Configuration

# ===========================================
# DATABASE CONFIGURATION
# ===========================================

# MongoDB Configuration (Primary Database for Feeds)
MONGO_URI=mongodb://mongodb:27017/bharathva_feed
MONGO_DATABASE=bharathva_feed
MONGO_HOST=mongodb
MONGO_PORT=27017

# NeonDB Configuration (For User Validation with Auth Service)
NEONDB_URI=postgresql://neondb_owner:npg_Dtqy63pieawz@ep-summer-bar-a1bv6p9u-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require
NEONDB_USERNAME=neondb_owner
NEONDB_PASSWORD=npg_Dtqy63pieawz

# ===========================================
# SERVICE CONFIGURATION
# ===========================================

# Auth Service Configuration
AUTH_SERVICE_URL=http://auth-service:8081
AUTH_SERVICE_LOCAL_URL=http://localhost:8081

# Server Configuration
SERVER_PORT=8082
SERVER_HOST=0.0.0.0

# ===========================================
# JWT CONFIGURATION
# ===========================================

# JWT Secret (Must match Auth Service)
JWT_SECRET=m7n1lhkmwGNryojEND4kks2nzZypr2S0pGoOAcTqfFIEjXOUByV5BewPKNr0ULNlb7frcStl4MHZO0fNI6g
JWT_EXPIRATION=3600000
JWT_REFRESH_EXPIRATION=604800000

# ===========================================
# EUREKA DISCOVERY CONFIGURATION
# ===========================================

# Eureka Configuration
EUREKA_CLIENT_SERVICEURL_DEFAULTZONE=http://discovery-service:8761/eureka/
EUREKA_INSTANCE_PREFERIPADDRESS=true
EUREKA_INSTANCE_INSTANCEID=feed-service:8082

# ===========================================
# CACHE CONFIGURATION
# ===========================================

# Cache Configuration
CACHE_TTL=300
CACHE_MAX_SIZE=1000
CACHE_TYPE=simple

# ===========================================
# FEED SERVICE CONFIGURATION
# ===========================================

# Feed Configuration
MAX_FEED_ITEMS=50
DEFAULT_PAGE_SIZE=20
MAX_CONTENT_LENGTH=280

# ===========================================
# LOGGING CONFIGURATION
# ===========================================

# Logging Levels
LOGGING_LEVEL_COM_BHARATHVA=INFO
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_SECURITY=WARN
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_WEB=WARN

# ===========================================
# SPRING PROFILES
# ===========================================

# Spring Profiles
SPRING_PROFILES_ACTIVE=docker

# ===========================================
# MANAGEMENT ENDPOINTS
# ===========================================

# Health Check and Monitoring
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always
MANAGEMENT_ENDPOINT_INFO_ENABLED=true
MANAGEMENT_ENDPOINT_METRICS_ENABLED=true

# ===========================================
# SECURITY CONFIGURATION
# ===========================================

# OAuth2 Resource Server
SPRING_SECURITY_OAUTH2_RESOURCESERVER_JWT_ISSUER_URI=http://auth-service:8081/oauth2/default

# ===========================================
# WEB CLIENT CONFIGURATION
# ===========================================

# WebClient Timeout Configuration
WEBCLIENT_TIMEOUT_CONNECT=5000
WEBCLIENT_TIMEOUT_READ=10000
WEBCLIENT_TIMEOUT_WRITE=10000

# ===========================================
# PERFORMANCE CONFIGURATION
# ===========================================

# Thread Pool Configuration
SPRING_TASK_EXECUTION_POOL_CORE_SIZE=5
SPRING_TASK_EXECUTION_POOL_MAX_SIZE=20
SPRING_TASK_EXECUTION_POOL_QUEUE_CAPACITY=100

# ===========================================
# MONGODB CONNECTION POOL
# ===========================================

# MongoDB Connection Pool Settings
MONGODB_MAX_CONNECTIONS=100
MONGODB_MIN_CONNECTIONS=10
MONGODB_MAX_WAIT_TIME=120000
MONGODB_MAX_IDLE_TIME=300000
