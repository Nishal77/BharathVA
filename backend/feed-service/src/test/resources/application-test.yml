# Test Configuration for BharathVA Feed Service

server:
  port: 0  # Random port for testing

# Spring Configuration for Testing
spring:
  # MongoDB Configuration - Use embedded MongoDB for testing
  data:
    mongodb:
      uri: mongodb://localhost:27017/bharathva_feed_test
      database: bharathva_feed_test
      auto-index-creation: true

  # Application Configuration
  application:
    name: feed-service-test

  # Cache Configuration - Disable caching for tests
  cache:
    type: none

  # Security Configuration - Use test JWT secret
  security:
    oauth2:
      resourceserver:
        jwt:
          secret-key: test-jwt-secret-key-for-testing-purposes-only

  # File upload configuration for testing
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 50MB
      enabled: true

# File Upload Configuration for Testing
app:
  file:
    upload-dir: test-uploads
    max-size: 10485760  # 10MB in bytes
    allowed-types: image/jpeg,image/png,image/gif,image/webp

# Logging Configuration for Tests
logging:
  level:
    com.bharathva.feed: DEBUG
    org.springframework.web: DEBUG
    org.springframework.security: DEBUG
    root: INFO

# Test-specific configurations
test:
  cleanup:
    enabled: true
  mongodb:
    embedded: true